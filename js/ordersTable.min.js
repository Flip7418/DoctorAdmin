(() => {
  "use strict";
  $(document).ready(function () {
    $(".selectMedicine,.selectStatus,.selectDoctor").on("change", function () {
      var t, e;
      (t = $(".selectMedicine").find("option:selected").val()),
        (e = $(".selectStatus").find("option:selected").val()),
        "ALL" == t.toUpperCase() && "ALL" == e.toUpperCase()
          ? $("#Orderstable tbody tr").show()
          : $("#Orderstable tbody tr:has(td)").each(function () {
              var s = $.trim($(this).find("td:eq(1)").text()),
                r = $.trim($(this).find("td:eq(3)").text());
              "ALL" != t.toUpperCase() && "ALL" != e.toUpperCase()
                ? s.toUpperCase() == t.toUpperCase() && r == e
                  ? $(this).show()
                  : $(this).hide()
                : "ALL" != t.toUpperCase() && "ALL" == e.toUpperCase()
                ? s.toUpperCase() == t.toUpperCase()
                  ? $(this).show()
                  : $(this).hide()
                : "ALL" == t.toUpperCase() && "ALL" != e.toUpperCase()
                ? r == e
                  ? $(this).show()
                  : $(this).hide()
                : ("" == $(this).find("td:eq(1)").text() && "" == $(this).find("td:eq(1)").text()) ||
                  ("all" != t && (s.toUpperCase() == t.toUpperCase() ? $(this).show() : $(this).hide()),
                  "all" != e && (r == e ? $(this).show() : $(this).hide()));
            });
    });
  }),
    document.querySelectorAll("#Orderstable th").forEach((t) => {
      t.addEventListener("click", () => {
        !(function (t, e, s = !0) {
          const r = s ? 1 : -1,
            o = t.tBodies[0],
            i = Array.from(o.querySelectorAll("tr")).sort((t, s) =>
              t.querySelector(`td:nth-child(${e + 1})`).textContent.trim() >
              s.querySelector(`td:nth-child(${e + 1})`).textContent.trim()
                ? 1 * r
                : -1 * r
            );
          for (; o.firstChild; ) o.removeChild(o.firstChild);
          o.append(...i),
            t.querySelectorAll("th").forEach((t) => t.classList.remove("th-sort-asc", "th-sort-desc")),
            t.querySelector(`th:nth-child(${e + 1})`).classList.toggle("th-sort-asc", s),
            t.querySelector(`th:nth-child(${e + 1})`).classList.toggle("th-sort-desc", !s);
        })(
          t.parentElement.parentElement.parentElement,
          Array.prototype.indexOf.call(t.parentElement.children, t),
          !t.classList.contains("th-sort-asc")
        );
      });
    });
})();
